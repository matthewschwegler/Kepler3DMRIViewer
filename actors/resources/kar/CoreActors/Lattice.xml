<?xml version="1.0"?>
<!DOCTYPE entity PUBLIC "-//UC Berkeley//DTD MoML 1//EN"
    "http://ptolemy.eecs.berkeley.edu/xml/dtd/MoML_1.dtd">
<entity name="Lattice" class="ptolemy.kernel.ComponentEntity">
<property name="entityId"  value="urn:lsid:kepler-project.org:actor:741:1" class="org.kepler.moml.NamedObjId"/>
<property name="class" value="ptolemy.actor.lib.Lattice" class="ptolemy.kernel.util.StringAttribute">
  <property name="id" value="null" class="ptolemy.kernel.util.StringAttribute"/>
</property>

<property name="reflectionCoefficients" class="ptolemy.data.expr.Parameter" value="{0.804534, -0.820577, 0.521934, -0.205}">
</property>

<property name="semanticType00" class="org.kepler.sms.SemanticType" value="urn:lsid:localhost:onto:2:1#Filtering">
</property>

<property name="kepler:input" class="org.kepler.moml.PortAttribute">
  <property name="direction" value="input" class="ptolemy.kernel.util.StringAttribute"/>
  <property name="dataType" value="double" class="ptolemy.kernel.util.StringAttribute"/>
  <property name="isMultiport" value="false" class="ptolemy.kernel.util.StringAttribute"/>
</property>
<property name="kepler:output" class="org.kepler.moml.PortAttribute">
  <property name="direction" value="output" class="ptolemy.kernel.util.StringAttribute"/>
  <property name="dataType" value="double" class="ptolemy.kernel.util.StringAttribute"/>
  <property name="isMultiport" value="false" class="ptolemy.kernel.util.StringAttribute"/>
</property>
<property name="KeplerDocumentation" class="ptolemy.vergil.basic.KeplerDocumentationAttribute">
<property name="description" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>null</configure></property>
<property name="author" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>Edward A. Lee, Christopher Hylands, Steve Neuendorffer</configure></property>
<property name="version" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>$Id: Lattice.java 64112 2012-07-27 15:36:10Z cxh $</configure></property>
<property name="userLevelDocumentation" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>&#10;An FIR filter with a lattice structure.  The coefficients of such a&#10; filter are called &quot;reflection coefficients.&quot;  Lattice filters are&#10; typically used as linear predictors because it is easy to ensure that&#10; they are minimum phase, and hence that their inverse is stable.&#10; A lattice filter is (strictly) minimum phase if its reflection&#10; coefficients are all less than unity in magnitude.  To get the&#10; reflection coefficients for a linear predictor for a particular&#10; random process, you can use the LevinsonDurbin actor.&#10; The inputs and outputs are of type double.&#10; &lt;p&gt;&#10; The default reflection coefficients correspond to the optimal linear&#10; predictor for an AR process generated by filtering white noise with&#10; the following filter:&#10; &lt;pre&gt;&#10;                            1&#10; H(z) =  --------------------------------------&#10;         1 - 2z&lt;sup&gt;-1&lt;/sup&gt; + 1.91z&lt;sup&gt;-2&lt;/sup&gt; - 0.91z&lt;sup&gt;-3&lt;/sup&gt; + 0.205z&lt;sup&gt;-4&lt;/sup&gt;&#10; &lt;/pre&gt;&#10; &lt;p&gt;&#10; Since this filter is minimum phase, the transfer function of the lattice&#10; filter is &lt;i&gt;H &lt;/i&gt;&lt;sup&gt;-1&lt;/sup&gt;(&lt;i&gt;z&lt;/i&gt;).&#10; &lt;p&gt;&#10; Note that the definition of reflection coefficients is not quite universal&#10; in the literature. The reflection coefficients in reference [2]&#10; are the negative of the ones used by this actor, which&#10; correspond to the definition in most other texts,&#10; and to the definition of partial-correlation (PARCOR)&#10; coefficients in the statistics literature.&#10; &lt;p&gt;&#10; The signs of the coefficients used in this actor are appropriate for values&#10; given by the LevinsonDurbin actor.&#10; The structure of the filter is as follows:&#10; &lt;pre&gt;&#10;      y[0]              y[1]               y[n-1]           y[n]&#10; X(n) -------o--&amp;gt;-(+)--&amp;gt;----o--&amp;gt;-(+)--&amp;gt;-- ... -&amp;gt;---o--&amp;gt;-(+)------&amp;gt;  Y(n)&#10;      |       \   /          \   /                  \   /&#10;      |      +K1 /          +K2 /                  +Kn /&#10;      |         X              X                      X&#10;      V      -K1 \          -K2 \                  -Kn \&#10;      |       /   \          /   \                  /   \&#10;      \-[z]--o--&amp;gt;-(+)-[z]---o--&amp;gt;-(+)-[z]- ... -&amp;gt;---o--&amp;gt;-(+)&#10;           w[0]         w[1]               w[n-1]           w[n]&#10; &lt;/pre&gt;&#10; &lt;p&gt;&#10; &lt;b&gt;References&lt;/b&gt;&#10; &lt;p&gt;[1]&#10; J. Makhoul, &quot;Linear Prediction: A Tutorial Review&quot;,&#10; &lt;i&gt;Proc. IEEE&lt;/i&gt;, Vol. 63, pp. 561-580, Apr. 1975.&#10; &lt;p&gt;[2]&#10; S. M. Kay, &lt;i&gt;Modern Spectral Estimation: Theory &amp; Application&lt;/i&gt;,&#10; Prentice-Hall, Englewood Cliffs, NJ, 1988.</configure></property>
<property name="port:output" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The output port. By default, the type of this output is constrained  to be at least that of the input.</configure></property>
<property name="port:input" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The input port.  This base class imposes no type constraints except  that the type of the input cannot be greater than the type of the  output.</configure></property>
<property name="prop:reflectionCoefficients" class="ptolemy.kernel.util.ConfigurableAttribute"><configure>The reflection coefficients.  This is an array of doubles with  default value {0.804534, -0.820577, 0.521934, -0.205}. These  are the reflection coefficients for the linear predictor of a  particular random process.</configure></property>
</property></entity>
